sudo apt update
sudo apt install -y bind9 bind9utils bind9-dnsutils dnssec-tools
sudo nano /etc/bind/named.conf.options
acl trusted {
    127.0.0.1;
    192.168.0.0/24;
};
options {
    directory "/var/cache/bind";

    recursion yes;
    allow-recursion { trusted; };
    allow-query { trusted; };
    allow-transfer { none; };

    listen-on { trusted; };
    listen-on-v6 { none; };

    dnssec-validation auto;

    rate-limit {
        responses-per-second 5;
    };

    auth-nxdomain no;
    version "not disclosed";
};
sudo nano /etc/bind/named.conf.local
zone "zhvanskiy.local" {
    type master;
    file "/etc/bind/db.zhvanskiy.local";
    allow-transfer { none; };
};
sudo nano /etc/bind/db.zhvanskiy.local
$TTL 86400
@   IN  SOA ns1.zhvanskiy.local. admin.zhvanskiy.local. (
        2025122201
        3600
        1800
        604800
        86400 )

@       IN  NS      ns1.zhvanskiy.local.
ns1     IN  A       192.168.1.10
www     IN  A       192.168.1.20
sudo named-checkzone zhvanskiy.local /etc/bind/db.zhvanskiy.local 
sudo dnssec-keygen -a ECDSAP256SHA256 -b 256 -n ZONE zhvanskiy.local
sudo dnssec-keygen -a ECDSAP256SHA256 -b 256 -n ZONE -f KSK zhvanskiy.local
sudo nano /etc/bind/db.zhvanskiy.local
$INCLUDE "----.key"
$INCLUDE "----.key"
sudo dnssec-signzone -A -o zhvanskiy.local db.zhvanskiy.local
sudo nano /etc/bind/named.conf.local
file "/etc/bind/db.example.local"; -> file "/etc/bind/db.example.local.signed";
sudo systemctl restart bind9
sudo systemctl status bind9
dig @127.0.0.1 www.zhvanskiy.local A +dnssec +short
